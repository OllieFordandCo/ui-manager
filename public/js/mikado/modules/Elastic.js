"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),Elastic=function(){function t(){_classCallCheck(this,t),this.elements=[],this.vendor="",this.properties={translate3d:function(t,e,n){var a=this.vendor+"transform: translate3d("+t+"px, "+e+"px, "+n+"px);"+this.vendor+"transition: 0ms;transform: translate3d("+t+"px, "+e+"px, "+n+"px); transition: 0ms;";return a},scale3d:function(t,e){var n="-webkit-transform: scale3d("+t+", "+t+", 1); -webkit-transition: 0ms;-moz-transform: scale3d("+t+", "+t+", 1); -moz-transition: 0ms;-ms-transform: scale3d("+t+", "+t+", 1); -ms-transition: 0ms;-o-transform: scale("+t+"); -o-transition: 0ms;transform: scale3d("+t+", "+t+", 1); transition: 0ms;";return n},zoomTo:function(t,e,n,a){n="undefined"==typeof n?2:n;var s="-webkit-transform: translate3d("+t+"px, "+e+"px, 0px) scale3d("+n+", "+n+", 1);-moz-transform: translate3d("+t+"px, "+e+"px, 0px) scale3d("+n+", "+n+", 1);-ms-transform: translate3d("+t+"px, "+e+"px, 0px) scale3d("+n+", "+n+", 1);-o-transform: translate("+t+"px, "+e+"px) scale("+n+");transform: translate3d("+t+"px, "+e+"px, 0px) scale3d("+n+", "+n+", 1);";return s}},this.easing={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},this.init()}return _createClass(t,[{key:"prefix",value:function(){var t=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1],n="WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1];return{dom:n,lowercase:e,css:"-"+e+"-",js:e[0].toUpperCase()+e.substr(1)}}},{key:"elementInit",value:function(){"willChange"in elastic.elements[0].style&&Base.forEach(elastic.elements,function(t,e){e.style.willChange="elasticProperty"in e.dataset?e.dataset.elasticProperty:"opacity"})}},{key:"animate",value:function(e){elastic.elements.length>0&&Base.forEach(elastic.elements,function(n,a){var s="elasticProperty"in a.dataset?a.dataset.elasticProperty:"opacity";if(!(!s in a.style)){var r="elasticFromTo"in a.dataset?t.dataSetToArray(a.dataset.elasticFromTo):[0,0],i="elasticValues"in a.dataset?t.dataSetToArray(a.dataset.elasticValues):[0,0];if(s in this.css&&(s=this.css[s]()),r[0]>e)return void(a.style[s]=i[0]+"%");if(r[1]<e)return void(a.style[s]=i[1]+"%");console.log(e);var o=100*e/r[1],l=100*o/i[1];a.style[s]=l+"%"}}),elastic.elements=document.querySelectorAll("[data-elastic]")}},{key:"init",value:function(){window.addEventListener("load",function(){elastic.elements=document.querySelectorAll("[data-elastic]"),Base.logger("Elastic is active"),elastic.elements.length>0&&(this.vendor=this.prefix().css,elastic.elementInit(),elastic.animate(),window.onscrolling(elastic.animate))},!1)}}],[{key:"dataSetToArray",value:function(t){return JSON.parse("["+t+"]")}}]),t}();window.elastic=new Elastic;